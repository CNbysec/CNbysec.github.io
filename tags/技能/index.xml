<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>技能 on </title>
    <link>//localhost:1313/tags/%E6%8A%80%E8%83%BD/</link>
    <description>Recent content in 技能 on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Thu, 30 Nov 2023 09:06:55 +0800</lastBuildDate>
    <atom:link href="//localhost:1313/tags/%E6%8A%80%E8%83%BD/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>SRC混子的漏洞挖掘之道</title>
      <link>//localhost:1313/src%E6%B7%B7%E5%AD%90%E7%9A%84%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E4%B9%8B%E9%81%93/</link>
      <pubDate>Thu, 30 Nov 2023 09:06:55 +0800</pubDate>
      <guid>//localhost:1313/src%E6%B7%B7%E5%AD%90%E7%9A%84%E6%BC%8F%E6%B4%9E%E6%8C%96%E6%8E%98%E4%B9%8B%E9%81%93/</guid>
      <description>转载自： https://xz.aliyun.com/t/8501&#xA;一个SRC混子挖SRC的半年经验分享~,基本都是文字阐述，希望能给同样在挖洞的师傅们带来一点新收获。&#xA;前期信息收集 还是那句老话,渗透测试的本质是信息收集，对于没有0day的弱鸡选手来说，挖SRC感觉更像是对企业的资产梳理，我们往往需要花很长的时间去做信息收集，收集与此公司相关的信息，包括企业的分公司，全资子公司，网站域名、手机app,微信小程序，企业专利品牌信息，企业邮箱，电话等等，对于很多万人挖的src来说，你收集到了别人没有收集过的资产，往往离挖到漏洞就不远了。&#xA;企业相关信息收集 企查查 (https://www.qcc.com）/)&#xA;天眼查(https://www.tianyancha.com/)&#xA;启信宝（https://www.qixin.com/)&#xA;企查查、天眼查淘宝都有那种一天的会员。对于我们信息收集其实已经够用，个人更喜欢用企查查，因为它能一键导出域名，还可以直接查看企业关联的子公司，比较方便。&#xA;主要查询的信息:&#xA;一般大的src都有许多子公司,企查查可以在所属集团中查看该集团下子公司，并且可以导出。 查看同电话企业基本都是子公司。 查看股份穿透图，一般来说控股超过50%的子公司的漏洞SRC收录的可能性都比较大。 查看企业下的app、小程序、还有品牌的资产，直接在搜索引擎里搜索品牌可能会有意想不到的收获。（找到一些平常收集不到的资产) PS:一般来说100%的全资子公司src漏洞是一定会收的，其他子公司资产可能需要与src审核沟通（扯皮)。&#xA;站长之家:http://whois.chinaz.com/ 邮箱反查、注册人反查、电话反查。 推荐个项目:https://github.com/code-scan/BroDomain 兄弟域名查询。 https://www.qimai.cn/ 七麦数据，可以查到企业下一些比较冷门的app。 信息整理&#xA;当我们通过各种手段对挖掘的企业进行信息收集后，我们大致能得到以下有用的信息&#xA;主公司及分公司、子公司下所有归属的网站域名信息； 主公司及分公司、子公司下所有的专利品牌和开发的一些独立系统。 主公司及分公司、子公司下所有的app资产和微信小程序。 之后我们需要对这些信息进行归纳和整理,比如哪些是该公司的主资产，哪些是边缘资产，哪些资产看上去比较冷门，我们是可以重点关注和进行深入挖掘的。&#xA;子域名收集和网站信息收集 子域名的话，对于我来说oneforall和xray的功能已经足够强大了，对于一些主域名来说，如果想要充分的收集子域名，最好用特大号字典进行最少三层的子域名爆破。这块还是layer子域名挖掘机不错。&#xA;通过github收集子域名 先分享一个姿势，很多时候github上已经有热心的师傅分享了自己跑出的子域名，所以可以先到github找一找有没有现成的可以白嫖，没啥好语法，纯靠大海捞针。。&#xA;oneforAll https://github.com/shmilylty/OneForAll&#xA;需要到配置文件里填写api接口信息， 根据需求修改其他的配置，比如可以配置一些常见的端口，当做简单的端口扫描工具用。 命令&#xA;1 2 python oneforall.py --targets ./domain.txt run python oneforall.py --targets ./domain.txt --brute true run 我实际操作发现在挂了外网代理和没挂代理时跑出来的子域有时候差的有点大，想收集的全一点的师傅可以不挂代理和挂代理都跑一遍。然后去重一下。&#xA;xray 子域名探测需要高级版，可以自己写个十几行的代码进行批量探测，也可以直接用这个项目里的代码，&#xA;https://github.com/timwhitez/rad-xray 命令改一下能批量探测子域名，一般5到10分钟一个子域。&#xA;Goby 官网:https://gobies.org/&#xA;因为之前一直在用masscan+nmap的方式进行端口扫描，用这个项目:https://github.com/hellogoldsnakeman/masnmapscan-V1.0&#xA;1 前一段时间接触到goby，感觉可视化的工具用起来还是舒服，可以短时间对一些常见端口进行扫描，还能对网站进行指纹识别，报告看起来挺舒服的。 因为在实际的端口扫描过程，由于cdn或者防火墙的原因，所以没必要一上来就全端口扫描，听一位师傅分享的经验，比如当扫描到22端口开放时，说明这个ip没有cdn保护，对于这种ip我们可以提取出来，然后重点进行全端口扫描，有收获的可能性会比较大。&#xA;BBScan 猪猪侠师傅写的工具，速度很快，简单的目录扫描，主要是可以探测C段下面的很多资产，扩充攻击面。&#xA;项目地址:&#xA;https://github.com/lijiejie/BBScan&#xA;https://github.com/yhy0/BBScan （添加了springboot的泄露探测）</description>
    </item>
  </channel>
</rss>
